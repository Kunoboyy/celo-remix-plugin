(this["webpackJsonp@dexfair/celo-remix-plugin"]=this["webpackJsonp@dexfair/celo-remix-plugin"]||[]).push([[0],{444:function(e,t,a){},457:function(e,t){},459:function(e,t){},474:function(e,t){},475:function(e,t){},510:function(e,t){},512:function(e,t){},526:function(e,t){},554:function(e,t){},556:function(e,t){},563:function(e,t){},575:function(e,t){},938:function(e,t,a){},940:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(0),s=a.n(c),r=a(77),i=a.n(r),l=(a(444),a(7)),o=a.n(l),u=a(151),d=a(20),j=a(21),b=a(958),O=a(955),f=a(954),h=a(957),x=a(956),p=a(953),m=a(106),v=a(960),g=a(962),y=a(193),k=a.n(y),N=a(434),C=function(e){var t=s.a.useState([]),a=Object(j.a)(t,2),c=a[0],r=a[1],i=e.abi,l=e.setArgs;return s.a.useEffect((function(){r(i&&i.inputs?i.inputs:[])}),[i]),Object(n.jsx)(b.a,{className:"Method",children:function(){var e=c.map((function(e,t){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(b.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:e.name})}),Object(n.jsx)(b.a.Control,{type:"text",size:"sm",name:e.name,placeholder:e.type,onChange:function(e){"["===e.target.value[0]?l(e.target.name,JSON.parse(e.target.value)):l(e.target.name,e.target.value)}})]},t.toString())}));return Object(n.jsx)(b.a.Group,{children:e})}()})};function S(e){var t=[];return e.forEach((function(e){"function"===e.type&&t.push(e)})),t}function w(e,t){var a,n=[];e&&(null===(a=e.inputs)||void 0===a||a.forEach((function(e){n.push(t[e.name])})));return n}var E=function(e){var t=e.celo,a=e.network,c=e.gtag,r=e.busy,i=e.setBusy,l=e.addNewContract,u=e.setSelected,O=e.updateBalance,h=s.a.useState(!1),x=Object(j.a)(h,2),m=x[0],y=x[1],E=s.a.useState(null),A=Object(j.a)(E,2),B=A[0],M=A[1],T=s.a.useState(""),z=Object(j.a)(T,2),J=z[0],F=z[1],R=s.a.useState(""),K=Object(j.a)(R,2),W=K[0],I=K[1],G=s.a.useState({fileName:"",data:{}}),L=Object(j.a)(G,2),_=L[0],D=L[1],H=s.a.useState(""),P=Object(j.a)(H,2),U=P[0],q=P[1],Q=s.a.useState(null),V=Object(j.a)(Q,2),X=V[0],Y=V[1],Z=s.a.useState({}),$=Object(j.a)(Z,2),ee=$[0],te=$[1],ae=s.a.useState(""),ne=Object(j.a)(ae,2),ce=ne[0],se=ne[1],re=s.a.useState(""),ie=Object(j.a)(re,2),le=ie[0],oe=ie[1];function ue(){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),I("fa-spin"),e.next=4,null===B||void 0===B?void 0:B.solidity.compile(J);case 4:I(""),i(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t?t[e].abi:_.data[e].abi;q(e),Y(null),te({}),a.forEach((function(e){if("constructor"===e.type){var t,a={};null===(t=e.inputs)||void 0===t||t.forEach((function(e){a[e.name]=""})),te(a),Y(e)}})),u({name:e,address:"",abi:S(a)})}function be(){return(be=Object(d.a)(o.a.mark((function e(){var a,n,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r||!t.isConnected){e.next=23;break}return c("deploy"),i(!0),se(""),e.prev=4,a=new t.kit.web3.eth.Contract(JSON.parse(JSON.stringify(_.data[U].abi))),e.next=8,t.getAccounts();case 8:return n=e.sent,s=w(X,ee),u={from:n[0],data:a.deploy({data:"0x".concat(_.data[U].evm.bytecode.object),arguments:s}).encodeABI()},e.next=13,t.sendTransaction(u);case 13:(d=e.sent).contractAddress?(se(d.contractAddress),l({name:U,address:d.contractAddress,abi:S(_.data[U].abi)})):oe("contractAddress error"),O(n[0]),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.error(e.t0),oe("deploy error");case 22:i(!1);case 23:case"end":return e.stop()}}),e,null,[[4,18]])})))).apply(this,arguments)}function Oe(){var e=_.data,t=_.fileName.split("/")[_.fileName.split("/").length-1],a=Object.keys(e).map((function(e){return Object(n.jsx)("option",{value:e,children:"".concat(e," - ").concat(t)},e)}));return Object(n.jsx)(b.a,{children:Object(n.jsxs)(b.a.Group,{children:[Object(n.jsxs)(b.a.Text,{className:"text-muted",children:[Object(n.jsx)("small",{children:"CONTRACT"}),Object(n.jsx)(p.a,{variant:"link",size:"sm",className:"mt-0 pt-0 float-right",disabled:!_.data[U],onClick:function(){_.data[U]&&k()(JSON.stringify(_.data[U].abi,null,4))},children:Object(n.jsx)("i",{className:"far fa-copy"})})]}),Object(n.jsx)(f.a,{children:Object(n.jsx)(b.a.Control,{as:"select",value:U,onChange:function(e){je(e.target.value)},children:a})})]})})}return s.a.useEffect((function(){function e(){return(e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),t=Object(N.createClient)(),e.next=4,t.onload();case 4:return t.solidity.on("compilationFinished",(function(e,t,a,n){D({fileName:e,data:n.contracts[e]}),je(Object.keys(n.contracts[e]).length>0?Object.keys(n.contracts[e])[0]:"",n.contracts[e])})),t.on("fileManager","currentFileChanged",(function(e){F(e)})),e.prev=6,e.t0=F,e.next=10,t.fileManager.getCurrentFile();case 10:e.t1=e.sent,(0,e.t0)(e.t1),e.next=17;break;case 14:e.prev=14,e.t2=e.catch(6),console.log("Error from IDE : No such file or directory No file selected");case 17:M(t);case 18:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}se(""),m||function(){e.apply(this,arguments)}()}),[a]),Object(n.jsxs)("div",{className:"Compiler",children:[Object(n.jsxs)(p.a,{variant:"primary",onClick:Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue();case 2:case"end":return e.stop()}}),e)}))),block:!0,disabled:""===J||""!==W,children:[Object(n.jsx)("i",{className:"fas fa-sync ".concat(W),style:{marginRight:"0.3em"}}),Object(n.jsxs)("span",{children:["Compile\xa0","".concat(""===J?"<no file selected>":J.split("/")[J.split("/").length-1])]})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(Oe,{}),Object(n.jsxs)(v.a,{children:[Object(n.jsx)(v.a.Header,{className:"p-2",children:"Deploy"}),Object(n.jsxs)(v.a.Body,{className:"py-1 px-2",children:[Object(n.jsx)(C,{abi:X,setArgs:function(e,t){ee[e]=t}}),Object(n.jsx)(g.a,{variant:"danger",onClose:function(){return oe("")},dismissible:!0,hidden:""===le,children:Object(n.jsx)("small",{children:le})}),Object(n.jsxs)(f.a,{className:"mb-3",children:[Object(n.jsx)(b.a.Control,{value:ce,placeholder:"contract address",size:"sm",readOnly:!0}),Object(n.jsx)(f.a.Append,{children:Object(n.jsx)(p.a,{variant:"warning",block:!0,size:"sm",disabled:r||!(t&&t.isConnected)||""===J,onClick:function(){return be.apply(this,arguments)},children:Object(n.jsx)("small",{children:"Deploy"})})})]})]})]})]})},A=a(959),B=a(961),M=(a(938),"Currently you have no contract instances to interact with."),T=function(e){var t=s.a.useState(""),a=Object(j.a)(t,2),c=a[0],r=a[1],i=s.a.useState(""),l=Object(j.a)(i,2),u=l[0],O=l[1],h=s.a.useState(""),x=Object(j.a)(h,2),m=x[0],v=x[1],y=s.a.useState({}),N=Object(j.a)(y,2),S=N[0],w=N[1],E=e.celo,A=e.busy,B=e.abi,M=e.address,T=e.updateBalance;function z(e){switch(e){case"view":case"pure":return"primary";case"nonpayable":return"warning";case"payable":return"danger"}return""}return s.a.useEffect((function(){var e,t={};null===(e=B.inputs)||void 0===e||e.forEach((function(e){t[e.name]=""})),w(t)}),[B.inputs]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(C,{abi:B,setArgs:function(e,t){S[e]=t}}),Object(n.jsx)(g.a,{variant:"danger",onClose:function(){return r("")},dismissible:!0,hidden:""===c,children:Object(n.jsx)("small",{children:c})}),Object(n.jsx)(g.a,{variant:"success",onClose:function(){return O("")},dismissible:!0,hidden:""===u,children:Object(n.jsx)("small",{children:u})}),Object(n.jsxs)(f.a,{className:"mb-3",children:[Object(n.jsxs)(f.a.Prepend,{children:[Object(n.jsx)(p.a,{variant:z(B.stateMutability),block:!0,size:"sm",disabled:A||!(E&&E.isConnected),onClick:Object(d.a)(o.a.mark((function e(){var t,a,n,c,s,i,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],null===(t=B.inputs)||void 0===t||t.forEach((function(e){a.push(S[e.name])})),n=new E.kit.web3.eth.Contract(JSON.parse(JSON.stringify([B])),M),e.next=5,E.getAccounts();case 5:if(c=e.sent,"view"!==B.stateMutability&&"pure"!==B.stateMutability){e.next=24;break}if(e.prev=7,!B.name){e.next=14;break}return e.next=11,(s=n.methods)[B.name].apply(s,a).call({from:c[0]});case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=null;case 15:"object"===typeof(i=e.t0)?O(JSON.stringify(i,null,4)):v(i),e.next=22;break;case 19:e.prev=19,e.t1=e.catch(7),r(e.t1.message?e.t1.message:e.t1.toString());case 22:e.next=41;break;case 24:if(e.prev=24,!B.name){e.next=31;break}return e.next=28,E.sendTransaction({from:c[0],to:M,data:(l=n.methods)[B.name].apply(l,a).encodeABI()});case 28:e.t2=e.sent,e.next=32;break;case 31:e.t2=null;case 32:u=e.t2,r(""),O(JSON.stringify(u,null,2)),T(c[0]),e.next=41;break;case 38:e.prev=38,e.t3=e.catch(24),r(e.t3.message?e.t3.message:e.t3.toString());case 41:case"end":return e.stop()}}),e,null,[[7,19],[24,38]])}))),children:Object(n.jsx)("small",{children:"view"===B.stateMutability||"pure"===B.stateMutability?"call":"transact"})}),Object(n.jsx)(p.a,{variant:z(B.stateMutability),size:"sm",className:"mt-0 pt-0 float-right",onClick:function(){if(B.name)try{var e,t,a=[];null===(e=B.inputs)||void 0===e||e.forEach((function(e){S[e.name]&&a.push(S[e.name])}));var n=new E.kit.web3.eth.Contract(JSON.parse(JSON.stringify([B])),M);k()((t=n.methods)[B.name].apply(t,a).encodeABI())}catch(c){console.log(c.toString())}},children:Object(n.jsx)("i",{className:"far fa-copy"})})]}),Object(n.jsx)(b.a.Control,{value:m,size:"sm",readOnly:!0,hidden:!("view"===B.stateMutability||"pure"===B.stateMutability)})]})]})},z=function(e){var t=s.a.useState(!0),a=Object(j.a)(t,2),c=a[0],r=a[1],i=e.celo,l=e.busy,o=e.setBusy,u=e.blockscout,d=e.contract,b=e.index,O=e.remove,f=e.updateBalance;return Object(n.jsx)(B.a,{in:c,timeout:300,classNames:"zoom",unmountOnExit:!0,onExited:O,children:Object(n.jsxs)(v.a,{className:"mb-2",children:[Object(n.jsxs)(v.a.Header,{className:"px-2 py-1",children:[Object(n.jsx)("strong",{className:"align-middle",children:d.name}),"\xa0",Object(n.jsx)("small",{className:"align-middle",children:"".concat(d.address.substring(0,6),"...").concat(d.address.substring(38))}),Object(n.jsx)(p.a,{className:"float-right align-middle",size:"sm",variant:"link",onClick:function(){window.open("".concat(u,"/address/").concat(d.address))},children:Object(n.jsx)("i",{className:"fas fa-external-link-alt"})}),Object(n.jsx)(p.a,{className:"float-right align-middle",size:"sm",variant:"link",onClick:function(){r(!1)},children:Object(n.jsx)("i",{className:"fas fa-trash-alt"})})]}),function(){var e=(d.abi?d.abi:[]).map((function(e,t){return Object(n.jsx)(A.a,{children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)(A.a.Toggle,{as:v.a.Header,eventKey:"Methods_".concat(t),className:"p-1",children:Object(n.jsx)("small",{children:e.name})}),Object(n.jsx)(A.a.Collapse,{eventKey:"Methods_".concat(t),children:Object(n.jsx)(v.a.Body,{className:"py-1 px-2",children:Object(n.jsx)(T,{celo:i,busy:l,setBusy:o,abi:e,address:d.address,updateBalance:f})})})]})},"Methods_A_".concat(b.toString()))}));return Object(n.jsx)(n.Fragment,{children:e})}()]})})},J=function(e){var t=s.a.useState(""),a=Object(j.a)(t,2),c=a[0],r=a[1],i=s.a.useState(0),l=Object(j.a)(i,2),o=l[0],u=l[1],d=e.celo,b=e.busy,O=e.setBusy,f=e.blockscout,h=e.contracts,x=e.updateBalance;return s.a.useEffect((function(){u(0),r(M)}),[h,b]),Object(n.jsxs)("div",{className:"SmartContracts",children:[Object(n.jsx)(g.a,{variant:"warning",className:"text-center",hidden:h.length!==o,children:Object(n.jsx)("small",{children:c})}),function(){var e=h.map((function(e,t){return Object(n.jsx)(z,{celo:d,busy:b,setBusy:O,blockscout:f,contract:e,index:t,remove:function(){u(o+1),r(M)},updateBalance:x},"Contract_".concat(t.toString()))}));return Object(n.jsx)(n.Fragment,{children:e})}()]})},F=function(){var e=s.a.useState(""),t=Object(j.a)(e,2),a=t[0],c=t[1],r=s.a.useState(""),i=Object(j.a)(r,2),l=i[0],v=i[1],g=s.a.useState("Mainnet"),y=Object(j.a)(g,2),k=y[0],N=y[1],C=s.a.useState(!0),S=Object(j.a)(C,2),w=S[0],A=S[1],B=s.a.useState(""),M=Object(j.a)(B,2),T=M[0],z=M[1],F=s.a.useState(!1),R=Object(j.a)(F,2),K=R[0],W=R[1],I=s.a.useState(new m.Celo(m.NETWORKS.Mainnet)),G=Object(j.a)(I,1)[0],L=s.a.useState(""),_=Object(j.a)(L,2),D=_[0],H=_[1],P=s.a.useState([]),U=Object(j.a)(P,2),q=U[0],Q=U[1],V=s.a.useState(null),X=Object(j.a)(V,2),Y=X[0],Z=X[1];function $(){return($=Object(d.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G.isConnected){e.next=19;break}return W(!0),e.next=4,G.getSupport();case 4:if(t=e.sent,z(m.NETWORKS[k].blockscout||""),!t.celo){e.next=13;break}return e.next=9,G.connectCelo((function(e,t){v(""),c(t[0])}),(function(e){v(""),N(e)}));case 9:e.sent&&window.gtag&&(a=window,(0,a.gtag)("event","login",{method:"Celo"})),e.next=18;break;case 13:return e.next=15,G.connectMetaMask((function(e,t){c(t[0])}));case 15:e.sent&&window.gtag&&(n=window,(0,n.gtag)("event","login",{method:"MetaMask"})),A(!1);case 18:W(!1);case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return(te=Object(d.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t){e.next=6;break}return e.next=3,G.kit.getTotalBalance(t);case 3:a=e.sent,n=a.CELO,v(G.kit.web3.utils.fromWei(n.toString()));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return ne.apply(this,arguments)}function ne(){return(ne=Object(d.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(w){e.next=9;break}return W(!0),Q([]),a=t.target.value,z(m.NETWORKS[a].blockscout||""),e.next=7,G.changeNetwork(m.NETWORKS[a]);case 7:N(a),W(!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(e){Q(q.concat([e]))}function se(){var e=m.NETWORKS,t=Object.keys(e).map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}));return Object(n.jsxs)(b.a.Group,{children:[Object(n.jsx)(b.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:"NETWORK"})}),Object(n.jsx)(b.a.Control,{as:"select",value:k,onChange:ae,disabled:!G.isConnected||w,children:t})]})}return s.a.useEffect((function(){ee(a)}),[a,k]),Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(O.a,{children:[Object(n.jsxs)(b.a,{children:[Object(n.jsxs)(b.a.Group,{children:[Object(n.jsx)(b.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:"ACCOUNT"})}),Object(n.jsxs)(f.a,{children:[Object(n.jsx)(b.a.Control,{type:"text",placeholder:"Account",value:a,size:"sm",readOnly:!0}),Object(n.jsx)(f.a.Append,{hidden:""!==a,children:Object(n.jsx)(h.a,{placement:"left",overlay:Object(n.jsx)(x.a,{id:"overlay-connect",hidden:""!==a,children:"Connect to Wallet"}),children:Object(n.jsx)(p.a,{variant:"warning",block:!0,size:"sm",disabled:K,onClick:function(){return $.apply(this,arguments)},children:Object(n.jsx)("small",{children:"Connect"})})})})]})]}),Object(n.jsxs)(b.a.Group,{children:[Object(n.jsx)(b.a.Text,{className:"text-muted",children:Object(n.jsx)("small",{children:"BALANCE (CELO)"})}),Object(n.jsx)(f.a,{children:Object(n.jsx)(b.a.Control,{type:"text",placeholder:"Account",value:l,size:"sm",readOnly:!0})})]}),Object(n.jsx)(se,{})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(E,{celo:G,network:k,gtag:function(e){var t=window.gtag;t("event",e,{network:k})},busy:K,setBusy:W,addNewContract:ce,setSelected:Z,updateBalance:ee}),Object(n.jsx)("p",{className:"text-center mt-3",children:Object(n.jsx)("small",{children:"OR"})}),Object(n.jsxs)(f.a,{className:"mb-3",children:[Object(n.jsx)(b.a.Control,{value:D,placeholder:"contract address",onChange:function(e){H(e.target.value)},size:"sm",disabled:K||""===a||!Y}),Object(n.jsx)(f.a.Append,{children:Object(n.jsx)(h.a,{placement:"left",overlay:Object(n.jsx)(x.a,{id:"overlay-ataddresss",children:"Use deployed Contract address"}),children:Object(n.jsx)(p.a,{variant:"primary",size:"sm",disabled:K||""===a||!Y,onClick:function(){W(!0),Y&&ce(Object(u.a)(Object(u.a)({},Y),{},{address:D})),W(!1)},children:Object(n.jsx)("small",{children:"At Address"})})})})]}),Object(n.jsx)("hr",{}),Object(n.jsx)(J,{celo:G,busy:K,setBusy:W,blockscout:T,contracts:q,updateBalance:ee})]})})},R=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,963)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),R()}},[[940,1,2]]]);
//# sourceMappingURL=main.e75cb6a3.chunk.js.map